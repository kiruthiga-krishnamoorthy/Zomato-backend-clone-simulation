{% extends 'base.html' %}

{% block content %}
  <h2 class="text-center my-4">🍽️ Restaurants</h2>
  <div class="row">
    {% for restaurant in restaurants %}
      <div class="col-md-4 mb-4">
        <div class="card h-100">
          {% if restaurant.image %}
            <img src="{{ restaurant.image.url }}" class="card-img-top" alt="{{ restaurant.name }}">
          {% else %}
            <img src="https://via.placeholder.com/300x200?text=No+Image" class="card-img-top" alt="No image">
          {% endif %}
          <div class="card-body d-flex flex-column">
            <h5 class="card-title">{{ restaurant.name }}</h5>
            <p class="card-text">{{ restaurant.description|truncatewords:20 }}</p>
            <p class="card-text"><small class="text-muted">📍 {{ restaurant.address }}</small></p>
            <p class="card-text"><small class="text-muted">🍽️ {{ restaurant.cuisine_type }}</small></p>

            <a href="{% url 'restaurant_detail' restaurant.id %}" class="btn btn-success mt-auto">
              View Menu 🍽️
            </a>
          </div>
        </div>
      </div>
    {% empty %}
      <p>No restaurants found.</p>
    {% endfor %}
  </div>
{% endblock %}
